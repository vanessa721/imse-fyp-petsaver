{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useEffect, useState } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport { Button, Text, Avatar } from 'react-native-elements';\nimport { FontAwesome } from '@expo/vector-icons';\nimport { db, auth } from \"../firebase\";\nimport { onSnapshot, updateDoc, doc, setDoc, arrayUnion } from \"firebase/firestore\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nexport default function PostDetailScreen(_ref) {\n  var route = _ref.route,\n      navigation = _ref.navigation;\n  var petItem = route.params.petItem;\n\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      ownerName = _useState2[0],\n      setOwnerName = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      ownerImagepath = _useState4[0],\n      setOwnerImage = _useState4[1];\n\n  var _useState5 = useState(''),\n      _useState6 = _slicedToArray(_useState5, 2),\n      addressDocUri = _useState6[0],\n      setAddressDocUri = _useState6[1];\n\n  var _useState7 = useState(''),\n      _useState8 = _slicedToArray(_useState7, 2),\n      incomeDocUri = _useState8[0],\n      setIncomeDocUri = _useState8[1];\n\n  var _useState9 = useState(''),\n      _useState10 = _slicedToArray(_useState9, 2),\n      totalIncome = _useState10[0],\n      setTotalIncome = _useState10[1];\n\n  var _useState11 = useState(''),\n      _useState12 = _slicedToArray(_useState11, 2),\n      apartmentType = _useState12[0],\n      setApartmentType = _useState12[1];\n\n  var _useState13 = useState(''),\n      _useState14 = _slicedToArray(_useState13, 2),\n      apartmentSize = _useState14[0],\n      setApartmentSize = _useState14[1];\n\n  var _useState15 = useState(''),\n      _useState16 = _slicedToArray(_useState15, 2),\n      hvExperience = _useState16[0],\n      setHvExperience = _useState16[1];\n\n  var _useState17 = useState(''),\n      _useState18 = _slicedToArray(_useState17, 2),\n      hvWindowScreen = _useState18[0],\n      setHvWindowScreen = _useState18[1];\n\n  var _useState19 = useState(''),\n      _useState20 = _slicedToArray(_useState19, 2),\n      numOfOtherPet = _useState20[0],\n      setNumOfOtherPet = _useState20[1];\n\n  var _useState21 = useState(''),\n      _useState22 = _slicedToArray(_useState21, 2),\n      otherPetDescription = _useState22[0],\n      setOtherPetDescription = _useState22[1];\n\n  var _useState23 = useState(''),\n      _useState24 = _slicedToArray(_useState23, 2),\n      hvSmoker = _useState24[0],\n      setHvSmoker = _useState24[1];\n\n  var _useState25 = useState(''),\n      _useState26 = _slicedToArray(_useState25, 2),\n      hvRespiratoryDiseases = _useState26[0],\n      setHvRespiratoryDiseases = _useState26[1];\n\n  var _useState27 = useState(''),\n      _useState28 = _slicedToArray(_useState27, 2),\n      hvAllergySymptoms = _useState28[0],\n      setHvAllergySymptoms = _useState28[1];\n\n  var getOwnerDetail = function getOwnerDetail() {\n    var unsub;\n    return _regeneratorRuntime.async(function getOwnerDetail$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            if (petItem.postcreator) {\n              _context.next = 2;\n              break;\n            }\n\n            return _context.abrupt(\"return\", false);\n\n          case 2:\n            unsub = onSnapshot(doc(db, \"Users\", petItem.postcreator), function (doc) {\n              var _doc$data, _doc$data2;\n\n              if (doc == undefined) return false;\n              if (!doc.data()) return false;\n              setOwnerName((_doc$data = doc.data()) == null ? void 0 : _doc$data.username);\n              setOwnerImage((_doc$data2 = doc.data()) == null ? void 0 : _doc$data2.userIconUri);\n            });\n\n          case 3:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var getCurrentUserDetail = function getCurrentUserDetail() {\n    var _auth$currentUser;\n\n    var userId, unsub;\n    return _regeneratorRuntime.async(function getCurrentUserDetail$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            userId = (_auth$currentUser = auth.currentUser) == null ? void 0 : _auth$currentUser.uid;\n\n            if (userId) {\n              unsub = onSnapshot(doc(db, \"Users\", userId), function (doc) {\n                var _doc$data3, _doc$data4, _doc$data5, _doc$data6, _doc$data7, _doc$data8, _doc$data9, _doc$data10, _doc$data11, _doc$data12, _doc$data13, _doc$data14;\n\n                if (doc == undefined) return false;\n                if (!doc.data()) return false;\n                setAddressDocUri((_doc$data3 = doc.data()) == null ? void 0 : _doc$data3.addressDocUri);\n                setIncomeDocUri((_doc$data4 = doc.data()) == null ? void 0 : _doc$data4.incomeDocUri);\n                setTotalIncome((_doc$data5 = doc.data()) == null ? void 0 : _doc$data5.totalIncome);\n                setApartmentType((_doc$data6 = doc.data()) == null ? void 0 : _doc$data6.apartmentType);\n                setApartmentSize((_doc$data7 = doc.data()) == null ? void 0 : _doc$data7.apartmentSize);\n                setHvExperience((_doc$data8 = doc.data()) == null ? void 0 : _doc$data8.hvExperience);\n                setHvWindowScreen((_doc$data9 = doc.data()) == null ? void 0 : _doc$data9.hvWindowScreen);\n                setNumOfOtherPet((_doc$data10 = doc.data()) == null ? void 0 : _doc$data10.numOfOtherPet);\n                setOtherPetDescription((_doc$data11 = doc.data()) == null ? void 0 : _doc$data11.otherPetDescription);\n                setHvSmoker((_doc$data12 = doc.data()) == null ? void 0 : _doc$data12.hvSmoker);\n                setHvAllergySymptoms((_doc$data13 = doc.data()) == null ? void 0 : _doc$data13.hvAllergySymptoms);\n                setHvRespiratoryDiseases((_doc$data14 = doc.data()) == null ? void 0 : _doc$data14.hvRespiratoryDiseases);\n              });\n            }\n\n          case 2:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var checkFulfillRequirement = function checkFulfillRequirement() {\n    if (!(petItem.hvAddressProve == 'true' && (addressDocUri == '' || addressDocUri == undefined)) && !(petItem.hvIncomeProve == 'true' && (incomeDocUri == '' || incomeDocUri == undefined)) && !(petItem.totalIncome && (totalIncome < petItem.totalIncome || totalIncome == undefined || totalIncome == '')) && !(petItem.apartmentType == 'non_public_housing' && apartmentType != petItem.apartmentType) && !(petItem.apartmentSize && (apartmentSize < petItem.apartmentSize || apartmentSize == undefined || apartmentSize == '')) && !(petItem.hvExperience == 'true' && hvExperience != petItem.hvExperience) && !(petItem.hvWindowScreen == 'true' && hvWindowScreen != petItem.hvWindowScreen) && !(petItem.hvSmoker == 'true' && hvSmoker != petItem.hvSmoker) && !(petItem.hvAllergySymptoms == 'true' && hvAllergySymptoms != petItem.hvAllergySymptoms) && !(petItem.hvRespiratoryDiseases == 'true' && hvRespiratoryDiseases != petItem.hvRespiratoryDiseases)) {\n      console.log(\"checkFulfillRequirement: true\");\n      return true;\n    } else {\n      console.log(\"checkFulfillRequirement: false\");\n      return false;\n    }\n  };\n\n  var sendContactRequest = function sendContactRequest() {\n    var _auth$currentUser2;\n\n    var userId, postRef, requestRef, unsub;\n    return _regeneratorRuntime.async(function sendContactRequest$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            userId = (_auth$currentUser2 = auth.currentUser) == null ? void 0 : _auth$currentUser2.uid;\n\n            if (!(petItem.postcreator == userId)) {\n              _context3.next = 4;\n              break;\n            }\n\n            Alert.alert(\"Request Failed\", \"You cannot adopt your own pet\", [{\n              text: \"OK\",\n              onPress: function onPress() {\n                return console.log(\"OK Pressed\");\n              }\n            }]);\n            return _context3.abrupt(\"return\", false);\n\n          case 4:\n            if (checkFulfillRequirement()) {\n              _context3.next = 8;\n              break;\n            }\n\n            console.log(\"!checkFulfillRequirement()\");\n            Alert.alert(\"Request Failed\", \"Some requirements not fulfill, Please update User Profile\", [{\n              text: \"OK\",\n              onPress: function onPress() {\n                return console.log(\"OK Pressed\");\n              }\n            }]);\n            return _context3.abrupt(\"return\", false);\n\n          case 8:\n            _context3.prev = 8;\n\n            if (userId) {\n              _context3.next = 12;\n              break;\n            }\n\n            console.error(\"userId not found:  \", auth.currentUser);\n            return _context3.abrupt(\"return\", false);\n\n          case 12:\n            postRef = doc(db, \"PetPost\", petItem.id);\n            requestRef = doc(postRef, \"contactRequest\", userId);\n            _context3.next = 16;\n            return _regeneratorRuntime.awrap(setDoc(requestRef, {\n              status: 'New request',\n              requestTime: new Date()\n            }, {\n              merge: true\n            }));\n\n          case 16:\n            unsub = _context3.sent;\n            console.log(\"Document written with ID: \", petItem.id);\n            Alert.alert(\"Request Sent\", \"Please wait for pet owner to contact you through email\", [{\n              text: \"OK\",\n              onPress: function onPress() {\n                return console.log(\"OK Pressed\");\n              }\n            }]);\n            _context3.next = 24;\n            break;\n\n          case 21:\n            _context3.prev = 21;\n            _context3.t0 = _context3[\"catch\"](8);\n            console.error(\"Error adding document:  \", _context3.t0);\n\n          case 24:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, null, null, [[8, 21]], Promise);\n  };\n\n  var addToFav = function addToFav() {\n    var _auth$currentUser3;\n\n    var userId, UserRef;\n    return _regeneratorRuntime.async(function addToFav$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            userId = (_auth$currentUser3 = auth.currentUser) == null ? void 0 : _auth$currentUser3.uid;\n            _context4.prev = 1;\n\n            if (!userId) {\n              _context4.next = 9;\n              break;\n            }\n\n            UserRef = doc(db, 'Users', userId);\n            _context4.next = 6;\n            return _regeneratorRuntime.awrap(updateDoc(UserRef, {\n              favorites: arrayUnion(petItem.id)\n            }));\n\n          case 6:\n            console.log(\"aaddToFav Done\");\n            _context4.next = 10;\n            break;\n\n          case 9:\n            console.error(\"userId not found:  \", auth.currentUser);\n\n          case 10:\n            _context4.next = 15;\n            break;\n\n          case 12:\n            _context4.prev = 12;\n            _context4.t0 = _context4[\"catch\"](1);\n            console.error(\"Error adding document:  \", _context4.t0);\n\n          case 15:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, null, null, [[1, 12]], Promise);\n  };\n\n  useEffect(function () {\n    var _navigation$getParent;\n\n    getCurrentUserDetail();\n    getOwnerDetail();\n    (_navigation$getParent = navigation.getParent()) == null ? void 0 : _navigation$getParent.setOptions({\n      tabBarStyle: {\n        display: \"none\"\n      }\n    });\n    return function () {\n      var _navigation$getParent2;\n\n      return (_navigation$getParent2 = navigation.getParent()) == null ? void 0 : _navigation$getParent2.setOptions({\n        tabBarStyle: {\n          borderTopWidth: 0,\n          backgroundColor: 'white',\n          elevation: 0,\n          height: '8%'\n        }\n      });\n    };\n  }, [navigation]);\n  return _jsx(_Fragment, {\n    children: _jsxs(View, {\n      style: styles.container,\n      children: [_jsx(View, {\n        style: styles.iconContainer,\n        children: _jsx(FontAwesome, {\n          name: \"arrow-left\",\n          size: 25,\n          color: \"white\",\n          onPress: function onPress() {\n            navigation.navigate('Home');\n          }\n        })\n      }), _jsx(View, {\n        style: styles.iconContainer2,\n        children: _jsx(FontAwesome, {\n          name: \"heart-o\",\n          size: 25,\n          color: \"white\",\n          onPress: function onPress() {\n            addToFav;\n          }\n        })\n      }), petItem.imagepath != \"\" && _jsx(Image, {\n        style: styles.imageitem,\n        source: {\n          uri: petItem.imagepath\n        }\n      }), _jsxs(View, {\n        style: styles.contentContainer,\n        children: [_jsx(Text, {\n          style: styles.petname,\n          children: petItem.petname\n        }), _jsxs(Text, {\n          style: styles.petgender,\n          children: [petItem.petgender, \"  -  \", petItem.petstages, \" \"]\n        }), _jsxs(ScrollView, {\n          showsVerticalScrollIndicator: false,\n          showsHorizontalScrollIndicator: false,\n          style: {\n            paddingBottom: 40\n          },\n          children: [_jsx(Text, {\n            style: {\n              fontSize: 16,\n              marginTop: 12,\n              fontWeight: 'bold'\n            },\n            children: \"Pet Story\"\n          }), _jsxs(Text, {\n            style: styles.paragraph,\n            children: [petItem.desc, \" \"]\n          }), _jsxs(View, {\n            style: {\n              marginTop: 5\n            },\n            children: [_jsxs(View, {\n              style: {\n                flexDirection: 'row'\n              },\n              children: [_jsx(Text, {\n                style: styles.paragraphTitle,\n                children: \"Sterilisation: \"\n              }), _jsxs(Text, {\n                style: styles.paragraph,\n                children: [\" \", petItem.sterilisation]\n              })]\n            }), _jsxs(View, {\n              style: {\n                flexDirection: 'row'\n              },\n              children: [_jsx(Text, {\n                style: styles.paragraphTitle,\n                children: \"Vaccinated: \"\n              }), _jsxs(Text, {\n                style: styles.paragraph,\n                children: [\" \", petItem.vaccinated]\n              })]\n            })]\n          }), _jsx(Text, {\n            style: {\n              fontSize: 14,\n              marginTop: 12,\n              fontWeight: 'bold'\n            },\n            children: \"Adoption Requirement\"\n          }), _jsxs(View, {\n            style: {\n              flexDirection: 'row'\n            },\n            children: [_jsx(Text, {\n              style: styles.paragraphTitle,\n              children: \"Require Address Prove: \"\n            }), _jsxs(Text, {\n              style: styles.paragraph,\n              children: [\" \", petItem.hvAddressProve]\n            }), petItem.hvAddressProve == 'true' && (addressDocUri == '' || addressDocUri == undefined) ? _jsx(Text, {\n              style: styles.required,\n              children: \" Required\"\n            }) : _jsx(Text, {\n              style: styles.fulfilled,\n              children: \" Fulfilled\"\n            })]\n          }), _jsxs(View, {\n            style: {\n              flexDirection: 'row'\n            },\n            children: [_jsx(Text, {\n              style: styles.paragraphTitle,\n              children: \"Require Income Prove: \"\n            }), _jsx(Text, {\n              style: styles.paragraph,\n              children: petItem.hvIncomeProve\n            }), petItem.hvIncomeProve == 'true' && (incomeDocUri == '' || incomeDocUri == undefined) ? _jsx(Text, {\n              style: styles.required,\n              children: \" Required\"\n            }) : _jsx(Text, {\n              style: styles.fulfilled,\n              children: \" Fulfilled\"\n            })]\n          }), _jsxs(View, {\n            style: {\n              flexDirection: 'row'\n            },\n            children: [_jsx(Text, {\n              style: styles.paragraphTitle,\n              children: \"Family Total Income: \"\n            }), _jsx(Text, {\n              style: styles.paragraph,\n              children: petItem.totalIncome\n            }), petItem.totalIncome && (totalIncome < petItem.totalIncome || totalIncome == undefined || totalIncome == '') ? _jsx(Text, {\n              style: styles.required,\n              children: \" Required\"\n            }) : _jsx(Text, {\n              style: styles.fulfilled,\n              children: \" Fulfilled\"\n            })]\n          }), _jsxs(View, {\n            style: {\n              flexDirection: 'row'\n            },\n            children: [_jsx(Text, {\n              style: styles.paragraphTitle,\n              children: \"Apartment Type: \"\n            }), _jsx(Text, {\n              style: styles.paragraph,\n              children: petItem.apartmentType\n            }), petItem.apartmentType == 'non_public_housing' && apartmentType != petItem.apartmentType ? _jsx(Text, {\n              style: styles.required,\n              children: \" Required\"\n            }) : _jsx(Text, {\n              style: styles.fulfilled,\n              children: \" Fulfilled\"\n            })]\n          }), _jsxs(View, {\n            style: {\n              flexDirection: 'row'\n            },\n            children: [_jsx(Text, {\n              style: styles.paragraphTitle,\n              children: \"apartmentSize: \"\n            }), _jsx(Text, {\n              style: styles.paragraph,\n              children: petItem.apartmentSize\n            }), petItem.apartmentSize && (apartmentSize < petItem.apartmentSize || apartmentSize == undefined || apartmentSize == '') ? _jsx(Text, {\n              style: styles.required,\n              children: \" Required\"\n            }) : _jsx(Text, {\n              style: styles.fulfilled,\n              children: \" Fulfilled\"\n            })]\n          }), _jsxs(View, {\n            style: {\n              flexDirection: 'row'\n            },\n            children: [_jsx(Text, {\n              style: styles.paragraphTitle,\n              children: \"hvExperience: \"\n            }), _jsx(Text, {\n              style: styles.paragraph,\n              children: petItem.hvExperience\n            }), petItem.hvExperience == 'true' && hvExperience != petItem.hvExperience ? _jsx(Text, {\n              style: styles.required,\n              children: \" Required\"\n            }) : _jsx(Text, {\n              style: styles.fulfilled,\n              children: \" Fulfilled\"\n            })]\n          }), _jsxs(View, {\n            style: {\n              flexDirection: 'row'\n            },\n            children: [_jsx(Text, {\n              style: styles.paragraphTitle,\n              children: \"hvWindowScreen: \"\n            }), _jsx(Text, {\n              style: styles.paragraph,\n              children: petItem.hvWindowScreen\n            }), petItem.hvWindowScreen == 'true' && hvWindowScreen != petItem.hvWindowScreen ? _jsx(Text, {\n              style: styles.required,\n              children: \" Required\"\n            }) : _jsx(Text, {\n              style: styles.fulfilled,\n              children: \" Fulfilled\"\n            })]\n          }), _jsxs(View, {\n            style: {\n              flexDirection: 'row'\n            },\n            children: [_jsx(Text, {\n              style: styles.paragraphTitle,\n              children: \"numOfOtherPet: \"\n            }), _jsx(Text, {\n              style: styles.paragraph,\n              children: petItem.numOfOtherPet\n            })]\n          }), _jsxs(View, {\n            style: {\n              flexDirection: 'row'\n            },\n            children: [_jsx(Text, {\n              style: styles.paragraphTitle,\n              children: \"otherPetDescription: \"\n            }), _jsx(Text, {\n              style: styles.paragraph,\n              children: petItem.otherPetDescription\n            })]\n          }), _jsxs(View, {\n            style: {\n              flexDirection: 'row'\n            },\n            children: [_jsx(Text, {\n              style: styles.paragraphTitle,\n              children: \"hvSmoker: \"\n            }), _jsx(Text, {\n              style: styles.paragraph,\n              children: petItem.hvSmoker\n            }), petItem.hvSmoker == 'true' && hvSmoker != petItem.hvSmoker ? _jsx(Text, {\n              style: styles.required,\n              children: \" Required\"\n            }) : _jsx(Text, {\n              style: styles.fulfilled,\n              children: \" Fulfilled\"\n            })]\n          }), _jsxs(View, {\n            style: {\n              flexDirection: 'row'\n            },\n            children: [_jsx(Text, {\n              style: styles.paragraphTitle,\n              children: \"hvAllergySymptoms: \"\n            }), _jsxs(Text, {\n              style: styles.paragraph,\n              children: [petItem.hvAllergySymptoms, \" \"]\n            }), petItem.hvAllergySymptoms == 'true' && hvAllergySymptoms != petItem.hvAllergySymptoms ? _jsx(Text, {\n              style: styles.required,\n              children: \" Required\"\n            }) : _jsx(Text, {\n              style: styles.fulfilled,\n              children: \" Fulfilled\"\n            })]\n          }), _jsxs(View, {\n            style: {\n              flexDirection: 'row'\n            },\n            children: [_jsx(Text, {\n              style: styles.paragraphTitle,\n              children: \"hvRespiratoryDiseases: \"\n            }), _jsx(Text, {\n              style: styles.paragraph,\n              children: petItem.hvRespiratoryDiseases\n            }), petItem.hvRespiratoryDiseases == 'true' && hvRespiratoryDiseases != petItem.hvRespiratoryDiseases ? _jsx(Text, {\n              style: styles.required,\n              children: \" Required\"\n            }) : _jsx(Text, {\n              style: styles.fulfilled,\n              children: \" Fulfilled\"\n            })]\n          })]\n        })]\n      }), _jsxs(View, {\n        style: styles.footerContainer,\n        children: [_jsxs(View, {\n          style: styles.ownerContainer,\n          children: [ownerImagepath != \"\" && ownerImagepath != undefined ? _jsx(Avatar, {\n            size: 50,\n            rounded: true,\n            source: {\n              uri: ownerImagepath\n            }\n          }) : _jsx(Avatar, {\n            size: 50,\n            rounded: true,\n            title: ownerName ? ownerName[0] : \"\",\n            containerStyle: {\n              backgroundColor: '#aaaaaa'\n            }\n          }), _jsxs(View, {\n            style: styles.ownerDetailContainer,\n            children: [_jsx(Text, {\n              style: {\n                fontWeight: 'bold',\n                fontSize: 12\n              },\n              children: ownerName\n            }), _jsx(Text, {\n              style: {\n                fontSize: 12,\n                color: '#aaaaaa'\n              },\n              children: \"owner\"\n            })]\n          })]\n        }), _jsx(Button, {\n          buttonStyle: styles.contactbutton,\n          containerStyle: styles.contactbuttonContainer,\n          titleStyle: {\n            fontWeight: 'bold',\n            fontSize: 11\n          },\n          title: \"Send Adopt Request\",\n          onPress: function onPress() {\n            sendContactRequest();\n          }\n        })]\n      })]\n    })\n  });\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    alignItems: 'flex-start',\n    justifyContent: 'flex-start',\n    backgroundColor: 'white',\n    height: \"100%\"\n  },\n  iconContainer: {\n    marginTop: 40,\n    padding: 20,\n    alignSelf: 'flex-start',\n    zIndex: 1,\n    position: 'absolute'\n  },\n  iconContainer2: {\n    marginTop: 40,\n    padding: 20,\n    alignSelf: 'flex-end',\n    zIndex: 1,\n    position: 'absolute'\n  },\n  imageitem: {\n    zIndex: 0,\n    aspectRatio: 1.1,\n    width: '100%'\n  },\n  contentContainer: {\n    width: '100%',\n    height: '100%',\n    padding: 30,\n    flex: 1,\n    borderRadius: 25,\n    backgroundColor: 'white',\n    top: -30\n  },\n  petname: {\n    fontWeight: 'bold',\n    fontSize: 30\n  },\n  petgender: {\n    fontSize: 12,\n    marginBottom: 12,\n    fontWeight: 'bold',\n    color: '#888888'\n  },\n  paragraph: {\n    fontSize: 12,\n    color: '#999999'\n  },\n  required: {\n    fontSize: 12,\n    color: 'red'\n  },\n  fulfilled: {\n    fontSize: 12,\n    color: 'green'\n  },\n  paragraphTitle: {\n    fontSize: 12,\n    color: '#999999',\n    fontWeight: 'bold'\n  },\n  contactbutton: {\n    backgroundColor: '#0b9298',\n    borderRadius: 5,\n    paddingHorizontal: 15,\n    marginRight: 30\n  },\n  contactbuttonContainer: {\n    marginHorizontal: 30\n  },\n  footerContainer: {\n    position: 'absolute',\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    bottom: 0,\n    width: '100%',\n    height: '10%'\n  },\n  ownerContainer: {\n    marginLeft: 30,\n    flexDirection: 'row',\n    justifyContent: 'flex-start'\n  },\n  ownerDetailContainer: {\n    marginLeft: 10,\n    flexDirection: 'column',\n    justifyContent: 'center',\n    alignItems: 'flex-start'\n  }\n});","map":{"version":3,"sources":["C:/Users/ZZ00UI738/Documents/van fyp/petsaver/screens/PostDetailScreen.tsx"],"names":["React","useEffect","useState","Button","Text","Avatar","FontAwesome","db","auth","onSnapshot","updateDoc","doc","setDoc","arrayUnion","PostDetailScreen","route","navigation","petItem","params","ownerName","setOwnerName","ownerImagepath","setOwnerImage","addressDocUri","setAddressDocUri","incomeDocUri","setIncomeDocUri","totalIncome","setTotalIncome","apartmentType","setApartmentType","apartmentSize","setApartmentSize","hvExperience","setHvExperience","hvWindowScreen","setHvWindowScreen","numOfOtherPet","setNumOfOtherPet","otherPetDescription","setOtherPetDescription","hvSmoker","setHvSmoker","hvRespiratoryDiseases","setHvRespiratoryDiseases","hvAllergySymptoms","setHvAllergySymptoms","getOwnerDetail","postcreator","unsub","undefined","data","username","userIconUri","getCurrentUserDetail","userId","currentUser","uid","checkFulfillRequirement","hvAddressProve","hvIncomeProve","console","log","sendContactRequest","Alert","alert","text","onPress","error","postRef","id","requestRef","status","requestTime","Date","merge","addToFav","UserRef","favorites","getParent","setOptions","tabBarStyle","display","borderTopWidth","backgroundColor","elevation","height","styles","container","iconContainer","navigate","iconContainer2","imagepath","imageitem","uri","contentContainer","petname","petgender","petstages","paddingBottom","fontSize","marginTop","fontWeight","paragraph","desc","flexDirection","paragraphTitle","sterilisation","vaccinated","required","fulfilled","footerContainer","ownerContainer","ownerDetailContainer","color","contactbutton","contactbuttonContainer","StyleSheet","create","flex","alignItems","justifyContent","padding","alignSelf","zIndex","position","aspectRatio","width","borderRadius","top","marginBottom","paddingHorizontal","marginRight","marginHorizontal","bottom","marginLeft"],"mappings":";;AACA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAAuD,OAAvD;;;;;;AAEA,SAASC,MAAT,EAAyCC,IAAzC,EAA+DC,MAA/D,QAA6E,uBAA7E;AAGA,SAASC,WAAT,QAA4B,oBAA5B;AACA,SAAkBC,EAAlB,EAAsBC,IAAtB;AAEA,SAAmCC,UAAnC,EAA+CC,SAA/C,EAAkEC,GAAlE,EAAuEC,MAAvE,EAA+EC,UAA/E,QAAiG,oBAAjG;;;;AAKA,eAAe,SAASC,gBAAT,OAAkF;AAAA,MAAtDC,KAAsD,QAAtDA,KAAsD;AAAA,MAA/CC,UAA+C,QAA/CA,UAA+C;AAC/F,MAAQC,OAAR,GAAoBF,KAAK,CAACG,MAA1B,CAAQD,OAAR;;AACA,kBAAkCf,QAAQ,CAAqB,EAArB,CAA1C;AAAA;AAAA,MAAOiB,SAAP;AAAA,MAAkBC,YAAlB;;AACA,mBAAwClB,QAAQ,CAAC,EAAD,CAAhD;AAAA;AAAA,MAAOmB,cAAP;AAAA,MAAuBC,aAAvB;;AAEA,mBAA0CpB,QAAQ,CAAC,EAAD,CAAlD;AAAA;AAAA,MAAOqB,aAAP;AAAA,MAAsBC,gBAAtB;;AACA,mBAAwCtB,QAAQ,CAAC,EAAD,CAAhD;AAAA;AAAA,MAAOuB,YAAP;AAAA,MAAqBC,eAArB;;AACA,mBAAsCxB,QAAQ,CAAC,EAAD,CAA9C;AAAA;AAAA,MAAOyB,WAAP;AAAA,MAAoBC,cAApB;;AACA,oBAA0C1B,QAAQ,CAAC,EAAD,CAAlD;AAAA;AAAA,MAAO2B,aAAP;AAAA,MAAsBC,gBAAtB;;AACA,oBAA0C5B,QAAQ,CAAC,EAAD,CAAlD;AAAA;AAAA,MAAO6B,aAAP;AAAA,MAAsBC,gBAAtB;;AACA,oBAAwC9B,QAAQ,CAAC,EAAD,CAAhD;AAAA;AAAA,MAAO+B,YAAP;AAAA,MAAqBC,eAArB;;AACA,oBAA4ChC,QAAQ,CAAC,EAAD,CAApD;AAAA;AAAA,MAAOiC,cAAP;AAAA,MAAuBC,iBAAvB;;AACA,oBAA0ClC,QAAQ,CAAC,EAAD,CAAlD;AAAA;AAAA,MAAOmC,aAAP;AAAA,MAAsBC,gBAAtB;;AACA,oBAAsDpC,QAAQ,CAAC,EAAD,CAA9D;AAAA;AAAA,MAAOqC,mBAAP;AAAA,MAA4BC,sBAA5B;;AACA,oBAAgCtC,QAAQ,CAAC,EAAD,CAAxC;AAAA;AAAA,MAAOuC,QAAP;AAAA,MAAiBC,WAAjB;;AACA,oBAA0DxC,QAAQ,CAAC,EAAD,CAAlE;AAAA;AAAA,MAAOyC,qBAAP;AAAA,MAA8BC,wBAA9B;;AACA,oBAAkD1C,QAAQ,CAAC,EAAD,CAA1D;AAAA;AAAA,MAAO2C,iBAAP;AAAA,MAA0BC,oBAA1B;;AAEA,MAAMC,cAAc,GAAG,SAAjBA,cAAiB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAChB9B,OAAO,CAAC+B,WADQ;AAAA;AAAA;AAAA;;AAAA,6CACY,KADZ;;AAAA;AAGfC,YAAAA,KAHe,GAGPxC,UAAU,CAACE,GAAG,CAACJ,EAAD,EAAK,OAAL,EAAcU,OAAO,CAAC+B,WAAtB,CAAJ,EAAwC,UAACrC,GAAD,EAAS;AAAA;;AACvE,kBAAIA,GAAG,IAAIuC,SAAX,EAAsB,OAAO,KAAP;AACtB,kBAAI,CAACvC,GAAG,CAACwC,IAAJ,EAAL,EAAiB,OAAO,KAAP;AACjB/B,cAAAA,YAAY,cAACT,GAAG,CAACwC,IAAJ,EAAD,qBAAC,UAAYC,QAAb,CAAZ;AACA9B,cAAAA,aAAa,eAACX,GAAG,CAACwC,IAAJ,EAAD,qBAAC,WAAYE,WAAb,CAAb;AACD,aALuB,CAHH;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAvB;;AAWA,MAAMC,oBAAoB,GAAG,SAAvBA,oBAAuB;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AACvBC,YAAAA,MADuB,wBACd/C,IAAI,CAACgD,WADS,qBACd,kBAAkBC,GADJ;;AAE3B,gBAAIF,MAAJ,EAAY;AACJN,cAAAA,KADI,GACIxC,UAAU,CAACE,GAAG,CAACJ,EAAD,EAAK,OAAL,EAAcgD,MAAd,CAAJ,EAA2B,UAAC5C,GAAD,EAAS;AAAA;;AAC1D,oBAAIA,GAAG,IAAIuC,SAAX,EAAsB,OAAO,KAAP;AACtB,oBAAI,CAACvC,GAAG,CAACwC,IAAJ,EAAL,EAAiB,OAAO,KAAP;AACjB3B,gBAAAA,gBAAgB,eAACb,GAAG,CAACwC,IAAJ,EAAD,qBAAC,WAAY5B,aAAb,CAAhB;AACAG,gBAAAA,eAAe,eAACf,GAAG,CAACwC,IAAJ,EAAD,qBAAC,WAAY1B,YAAb,CAAf;AACAG,gBAAAA,cAAc,eAACjB,GAAG,CAACwC,IAAJ,EAAD,qBAAC,WAAYxB,WAAb,CAAd;AACAG,gBAAAA,gBAAgB,eAACnB,GAAG,CAACwC,IAAJ,EAAD,qBAAC,WAAYtB,aAAb,CAAhB;AACAG,gBAAAA,gBAAgB,eAACrB,GAAG,CAACwC,IAAJ,EAAD,qBAAC,WAAYpB,aAAb,CAAhB;AACAG,gBAAAA,eAAe,eAACvB,GAAG,CAACwC,IAAJ,EAAD,qBAAC,WAAYlB,YAAb,CAAf;AACAG,gBAAAA,iBAAiB,eAACzB,GAAG,CAACwC,IAAJ,EAAD,qBAAC,WAAYhB,cAAb,CAAjB;AACAG,gBAAAA,gBAAgB,gBAAC3B,GAAG,CAACwC,IAAJ,EAAD,qBAAC,YAAYd,aAAb,CAAhB;AACAG,gBAAAA,sBAAsB,gBAAC7B,GAAG,CAACwC,IAAJ,EAAD,qBAAC,YAAYZ,mBAAb,CAAtB;AACAG,gBAAAA,WAAW,gBAAC/B,GAAG,CAACwC,IAAJ,EAAD,qBAAC,YAAYV,QAAb,CAAX;AACAK,gBAAAA,oBAAoB,gBAACnC,GAAG,CAACwC,IAAJ,EAAD,qBAAC,YAAYN,iBAAb,CAApB;AACAD,gBAAAA,wBAAwB,gBAACjC,GAAG,CAACwC,IAAJ,EAAD,qBAAC,YAAYR,qBAAb,CAAxB;AACD,eAfuB,CADd;AAiBX;;AAnB0B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAA7B;;AAuBA,MAAMe,uBAAuB,GAAG,SAA1BA,uBAA0B,GAAM;AACpC,QACE,EAAEzC,OAAO,CAAC0C,cAAR,IAA0B,MAA1B,KAAqCpC,aAAa,IAAI,EAAjB,IAAuBA,aAAa,IAAI2B,SAA7E,CAAF,KACA,EAAEjC,OAAO,CAAC2C,aAAR,IAAyB,MAAzB,KAAoCnC,YAAY,IAAI,EAAhB,IAAsBA,YAAY,IAAIyB,SAA1E,CAAF,CADA,IAEA,EAAEjC,OAAO,CAACU,WAAR,KAAwBA,WAAW,GAAGV,OAAO,CAACU,WAAtB,IAAqCA,WAAW,IAAIuB,SAApD,IAAiEvB,WAAW,IAAI,EAAxG,CAAF,CAFA,IAGA,EAAEV,OAAO,CAACY,aAAR,IAAyB,oBAAzB,IAAiDA,aAAa,IAAIZ,OAAO,CAACY,aAA5E,CAHA,IAIA,EAAEZ,OAAO,CAACc,aAAR,KAA0BA,aAAa,GAAGd,OAAO,CAACc,aAAxB,IAAyCA,aAAa,IAAImB,SAA1D,IAAuEnB,aAAa,IAAI,EAAlH,CAAF,CAJA,IAKA,EAAEd,OAAO,CAACgB,YAAR,IAAwB,MAAxB,IAAkCA,YAAY,IAAIhB,OAAO,CAACgB,YAA5D,CALA,IAMA,EAAGhB,OAAO,CAACkB,cAAR,IAA0B,MAA1B,IAAoCA,cAAc,IAAIlB,OAAO,CAACkB,cAAjE,CANA,IAOA,EAAElB,OAAO,CAACwB,QAAR,IAAoB,MAApB,IAA8BA,QAAQ,IAAIxB,OAAO,CAACwB,QAApD,CAPA,IAQA,EAAExB,OAAO,CAAC4B,iBAAR,IAA6B,MAA7B,IAAuCA,iBAAiB,IAAI5B,OAAO,CAAC4B,iBAAtE,CARA,IASA,EAAE5B,OAAO,CAAC0B,qBAAR,IAAiC,MAAjC,IAA2CA,qBAAqB,IAAI1B,OAAO,CAAC0B,qBAA9E,CAVF,EAWE;AACAkB,MAAAA,OAAO,CAACC,GAAR,CAAY,+BAAZ;AACA,aAAO,IAAP;AACD,KAdD,MAeK;AACHD,MAAAA,OAAO,CAACC,GAAR,CAAY,gCAAZ;AACA,aAAO,KAAP;AACD;AACF,GApBD;;AAsBA,MAAMC,kBAAkB,GAAG,SAArBA,kBAAqB;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AACrBR,YAAAA,MADqB,yBACZ/C,IAAI,CAACgD,WADO,qBACZ,mBAAkBC,GADN;;AAAA,kBAGrBxC,OAAO,CAAC+B,WAAR,IAAuBO,MAHF;AAAA;AAAA;AAAA;;AAIvBS,YAAAA,KAAK,CAACC,KAAN,CACE,gBADF,EACoB,+BADpB,EAEE,CACE;AAAEC,cAAAA,IAAI,EAAE,IAAR;AAAcC,cAAAA,OAAO,EAAE;AAAA,uBAAMN,OAAO,CAACC,GAAR,CAAY,YAAZ,CAAN;AAAA;AAAvB,aADF,CAFF;AAJuB,8CAUhB,KAVgB;;AAAA;AAAA,gBAYpBJ,uBAAuB,EAZH;AAAA;AAAA;AAAA;;AAavBG,YAAAA,OAAO,CAACC,GAAR,CAAY,4BAAZ;AACAE,YAAAA,KAAK,CAACC,KAAN,CACE,gBADF,EACoB,2DADpB,EAEE,CACE;AAAEC,cAAAA,IAAI,EAAE,IAAR;AAAcC,cAAAA,OAAO,EAAE;AAAA,uBAAMN,OAAO,CAACC,GAAR,CAAY,YAAZ,CAAN;AAAA;AAAvB,aADF,CAFF;AAduB,8CAoBhB,KApBgB;;AAAA;AAAA;;AAAA,gBAwBlBP,MAxBkB;AAAA;AAAA;AAAA;;AAyBrBM,YAAAA,OAAO,CAACO,KAAR,CAAc,qBAAd,EAAqC5D,IAAI,CAACgD,WAA1C;AAzBqB,8CA0Bd,KA1Bc;;AAAA;AA6BnBa,YAAAA,OA7BmB,GA6BT1D,GAAG,CAACJ,EAAD,EAAK,SAAL,EAAgBU,OAAO,CAACqD,EAAxB,CA7BM;AA8BnBC,YAAAA,UA9BmB,GA8BN5D,GAAG,CAAC0D,OAAD,EAAU,gBAAV,EAA4Bd,MAA5B,CA9BG;AAAA;AAAA,6CAgCH3C,MAAM,CAAC2D,UAAD,EAAa;AACrCC,cAAAA,MAAM,EAAE,aAD6B;AAErCC,cAAAA,WAAW,EAAE,IAAIC,IAAJ;AAFwB,aAAb,EAGvB;AAAEC,cAAAA,KAAK,EAAE;AAAT,aAHuB,CAhCH;;AAAA;AAgCjB1B,YAAAA,KAhCiB;AAqCvBY,YAAAA,OAAO,CAACC,GAAR,CAAY,4BAAZ,EAA0C7C,OAAO,CAACqD,EAAlD;AACAN,YAAAA,KAAK,CAACC,KAAN,CACE,cADF,EACkB,wDADlB,EAEE,CACE;AAAEC,cAAAA,IAAI,EAAE,IAAR;AAAcC,cAAAA,OAAO,EAAE;AAAA,uBAAMN,OAAO,CAACC,GAAR,CAAY,YAAZ,CAAN;AAAA;AAAvB,aADF,CAFF;AAtCuB;AAAA;;AAAA;AAAA;AAAA;AA6CvBD,YAAAA,OAAO,CAACO,KAAR,CAAc,0BAAd;;AA7CuB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAA3B;;AAkDA,MAAMQ,QAAQ,GAAG,SAAXA,QAAW;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AACXrB,YAAAA,MADW,yBACF/C,IAAI,CAACgD,WADH,qBACF,mBAAkBC,GADhB;AAAA;;AAAA,iBAGTF,MAHS;AAAA;AAAA;AAAA;;AAILsB,YAAAA,OAJK,GAIKlE,GAAG,CAACJ,EAAD,EAAK,OAAL,EAAcgD,MAAd,CAJR;AAAA;AAAA,6CAKL7C,SAAS,CAACmE,OAAD,EAAU;AACvBC,cAAAA,SAAS,EAAEjE,UAAU,CAACI,OAAO,CAACqD,EAAT;AADE,aAAV,CALJ;;AAAA;AAQXT,YAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ;AARW;AAAA;;AAAA;AAUXD,YAAAA,OAAO,CAACO,KAAR,CAAc,qBAAd,EAAqC5D,IAAI,CAACgD,WAA1C;;AAVW;AAAA;AAAA;;AAAA;AAAA;AAAA;AAabK,YAAAA,OAAO,CAACO,KAAR,CAAc,0BAAd;;AAba;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAjB;;AAiBAnE,EAAAA,SAAS,CAAC,YAAM;AAAA;;AACdqD,IAAAA,oBAAoB;AACpBP,IAAAA,cAAc;AACd,6BAAA/B,UAAU,CAAC+D,SAAX,6CAAwBC,UAAxB,CAAmC;AAAEC,MAAAA,WAAW,EAAE;AAAEC,QAAAA,OAAO,EAAE;AAAX;AAAf,KAAnC;AACA,WAAO;AAAA;;AAAA,uCAAMlE,UAAU,CAAC+D,SAAX,EAAN,qBAAM,uBAAwBC,UAAxB,CACX;AAAEC,QAAAA,WAAW,EAAE;AAAEE,UAAAA,cAAc,EAAE,CAAlB;AAAqBC,UAAAA,eAAe,EAAE,OAAtC;AAA+CC,UAAAA,SAAS,EAAE,CAA1D;AAA6DC,UAAAA,MAAM,EAAE;AAArE;AAAf,OADW,CAAN;AAAA,KAAP;AAED,GANQ,EAMN,CAACtE,UAAD,CANM,CAAT;AAQA,SACE;AAAA,cACE,MAAC,IAAD;AAAM,MAAA,KAAK,EAAEuE,MAAM,CAACC,SAApB;AAAA,iBACE,KAAC,IAAD;AAAM,QAAA,KAAK,EAAED,MAAM,CAACE,aAApB;AAAA,kBACE,KAAC,WAAD;AACE,UAAA,IAAI,EAAC,YADP;AAEE,UAAA,IAAI,EAAE,EAFR;AAGE,UAAA,KAAK,EAAC,OAHR;AAIE,UAAA,OAAO,EAAE,mBAAM;AAAEzE,YAAAA,UAAU,CAAC0E,QAAX,CAAoB,MAApB;AAA6B;AAJhD;AADF,QADF,EASE,KAAC,IAAD;AAAM,QAAA,KAAK,EAAEH,MAAM,CAACI,cAApB;AAAA,kBACE,KAAC,WAAD;AACE,UAAA,IAAI,EAAC,SADP;AAEE,UAAA,IAAI,EAAE,EAFR;AAGE,UAAA,KAAK,EAAC,OAHR;AAIE,UAAA,OAAO,EAAE,mBAAM;AACbf,YAAAA,QAAQ;AACT;AANH;AADF,QATF,EAqBG3D,OAAO,CAAC2E,SAAR,IAAqB,EAArB,IAA2B,KAAC,KAAD;AAAO,QAAA,KAAK,EAAEL,MAAM,CAACM,SAArB;AAC1B,QAAA,MAAM,EAAE;AAAEC,UAAAA,GAAG,EAAE7E,OAAO,CAAC2E;AAAf;AADkB,QArB9B,EAwBE,MAAC,IAAD;AAAM,QAAA,KAAK,EAAEL,MAAM,CAACQ,gBAApB;AAAA,mBACE,KAAC,IAAD;AAAM,UAAA,KAAK,EAAER,MAAM,CAACS,OAApB;AAAA,oBAA8B/E,OAAO,CAAC+E;AAAtC,UADF,EAEE,MAAC,IAAD;AAAM,UAAA,KAAK,EAAET,MAAM,CAACU,SAApB;AAAA,qBAAgChF,OAAO,CAACgF,SAAxC,WAAwDhF,OAAO,CAACiF,SAAhE;AAAA,UAFF,EAGE,MAAC,UAAD;AAAY,UAAA,4BAA4B,EAAE,KAA1C;AACE,UAAA,8BAA8B,EAAE,KADlC;AAEE,UAAA,KAAK,EAAE;AAAEC,YAAAA,aAAa,EAAE;AAAjB,WAFT;AAAA,qBAIE,KAAC,IAAD;AAAM,YAAA,KAAK,EAAE;AAAEC,cAAAA,QAAQ,EAAE,EAAZ;AAAgBC,cAAAA,SAAS,EAAE,EAA3B;AAA+BC,cAAAA,UAAU,EAAE;AAA3C,aAAb;AAAA;AAAA,YAJF,EAKE,MAAC,IAAD;AAAM,YAAA,KAAK,EAAEf,MAAM,CAACgB,SAApB;AAAA,uBAAgCtF,OAAO,CAACuF,IAAxC;AAAA,YALF,EAME,MAAC,IAAD;AAAM,YAAA,KAAK,EAAE;AAAEH,cAAAA,SAAS,EAAE;AAAb,aAAb;AAAA,uBACE,MAAC,IAAD;AAAM,cAAA,KAAK,EAAE;AAAEI,gBAAAA,aAAa,EAAE;AAAjB,eAAb;AAAA,yBACE,KAAC,IAAD;AAAM,gBAAA,KAAK,EAAElB,MAAM,CAACmB,cAApB;AAAA;AAAA,gBADF,EAEE,MAAC,IAAD;AAAM,gBAAA,KAAK,EAAEnB,MAAM,CAACgB,SAApB;AAAA,gCAAiCtF,OAAO,CAAC0F,aAAzC;AAAA,gBAFF;AAAA,cADF,EAKE,MAAC,IAAD;AAAM,cAAA,KAAK,EAAE;AAAEF,gBAAAA,aAAa,EAAE;AAAjB,eAAb;AAAA,yBACE,KAAC,IAAD;AAAM,gBAAA,KAAK,EAAElB,MAAM,CAACmB,cAApB;AAAA;AAAA,gBADF,EAEE,MAAC,IAAD;AAAM,gBAAA,KAAK,EAAEnB,MAAM,CAACgB,SAApB;AAAA,gCAAiCtF,OAAO,CAAC2F,UAAzC;AAAA,gBAFF;AAAA,cALF;AAAA,YANF,EAkBE,KAAC,IAAD;AAAM,YAAA,KAAK,EAAE;AAAER,cAAAA,QAAQ,EAAE,EAAZ;AAAgBC,cAAAA,SAAS,EAAE,EAA3B;AAA+BC,cAAAA,UAAU,EAAE;AAA3C,aAAb;AAAA;AAAA,YAlBF,EAmBE,MAAC,IAAD;AAAM,YAAA,KAAK,EAAE;AAAEG,cAAAA,aAAa,EAAE;AAAjB,aAAb;AAAA,uBACE,KAAC,IAAD;AAAM,cAAA,KAAK,EAAElB,MAAM,CAACmB,cAApB;AAAA;AAAA,cADF,EAEE,MAAC,IAAD;AAAM,cAAA,KAAK,EAAEnB,MAAM,CAACgB,SAApB;AAAA,8BAAiCtF,OAAO,CAAC0C,cAAzC;AAAA,cAFF,EAGI1C,OAAO,CAAC0C,cAAR,IAA0B,MAA1B,KAAqCpC,aAAa,IAAI,EAAjB,IAAuBA,aAAa,IAAI2B,SAA7E,CAAD,GACC,KAAC,IAAD;AAAM,cAAA,KAAK,EAAEqC,MAAM,CAACsB,QAApB;AAAA;AAAA,cADD,GAEC,KAAC,IAAD;AAAM,cAAA,KAAK,EAAEtB,MAAM,CAACuB,SAApB;AAAA;AAAA,cALJ;AAAA,YAnBF,EA2BE,MAAC,IAAD;AAAM,YAAA,KAAK,EAAE;AAAEL,cAAAA,aAAa,EAAE;AAAjB,aAAb;AAAA,uBAAuC,KAAC,IAAD;AAAM,cAAA,KAAK,EAAElB,MAAM,CAACmB,cAApB;AAAA;AAAA,cAAvC,EACE,KAAC,IAAD;AAAM,cAAA,KAAK,EAAEnB,MAAM,CAACgB,SAApB;AAAA,wBAAgCtF,OAAO,CAAC2C;AAAxC,cADF,EAEI3C,OAAO,CAAC2C,aAAR,IAAyB,MAAzB,KAAoCnC,YAAY,IAAI,EAAhB,IAAsBA,YAAY,IAAIyB,SAA1E,CAAD,GACC,KAAC,IAAD;AAAM,cAAA,KAAK,EAAEqC,MAAM,CAACsB,QAApB;AAAA;AAAA,cADD,GAEC,KAAC,IAAD;AAAM,cAAA,KAAK,EAAEtB,MAAM,CAACuB,SAApB;AAAA;AAAA,cAJJ;AAAA,YA3BF,EAiCE,MAAC,IAAD;AAAM,YAAA,KAAK,EAAE;AAAEL,cAAAA,aAAa,EAAE;AAAjB,aAAb;AAAA,uBAAuC,KAAC,IAAD;AAAM,cAAA,KAAK,EAAElB,MAAM,CAACmB,cAApB;AAAA;AAAA,cAAvC,EACE,KAAC,IAAD;AAAM,cAAA,KAAK,EAAEnB,MAAM,CAACgB,SAApB;AAAA,wBAAgCtF,OAAO,CAACU;AAAxC,cADF,EAEIV,OAAO,CAACU,WAAR,KAAwBA,WAAW,GAAGV,OAAO,CAACU,WAAtB,IAAqCA,WAAW,IAAIuB,SAApD,IAAiEvB,WAAW,IAAI,EAAxG,CAAD,GACC,KAAC,IAAD;AAAM,cAAA,KAAK,EAAE4D,MAAM,CAACsB,QAApB;AAAA;AAAA,cADD,GAEC,KAAC,IAAD;AAAM,cAAA,KAAK,EAAEtB,MAAM,CAACuB,SAApB;AAAA;AAAA,cAJJ;AAAA,YAjCF,EAuCE,MAAC,IAAD;AAAM,YAAA,KAAK,EAAE;AAAEL,cAAAA,aAAa,EAAE;AAAjB,aAAb;AAAA,uBAAuC,KAAC,IAAD;AAAM,cAAA,KAAK,EAAElB,MAAM,CAACmB,cAApB;AAAA;AAAA,cAAvC,EACE,KAAC,IAAD;AAAM,cAAA,KAAK,EAAEnB,MAAM,CAACgB,SAApB;AAAA,wBAAgCtF,OAAO,CAACY;AAAxC,cADF,EAEIZ,OAAO,CAACY,aAAR,IAAyB,oBAAzB,IAAiDA,aAAa,IAAIZ,OAAO,CAACY,aAA3E,GAA4F,KAAC,IAAD;AAAM,cAAA,KAAK,EAAE0D,MAAM,CAACsB,QAApB;AAAA;AAAA,cAA5F,GACC,KAAC,IAAD;AAAM,cAAA,KAAK,EAAEtB,MAAM,CAACuB,SAApB;AAAA;AAAA,cAHJ;AAAA,YAvCF,EA4CE,MAAC,IAAD;AAAM,YAAA,KAAK,EAAE;AAAEL,cAAAA,aAAa,EAAE;AAAjB,aAAb;AAAA,uBAAuC,KAAC,IAAD;AAAM,cAAA,KAAK,EAAElB,MAAM,CAACmB,cAApB;AAAA;AAAA,cAAvC,EACE,KAAC,IAAD;AAAM,cAAA,KAAK,EAAEnB,MAAM,CAACgB,SAApB;AAAA,wBAAgCtF,OAAO,CAACc;AAAxC,cADF,EAEId,OAAO,CAACc,aAAR,KAA0BA,aAAa,GAAGd,OAAO,CAACc,aAAxB,IAAyCA,aAAa,IAAImB,SAA1D,IAAuEnB,aAAa,IAAI,EAAlH,CAAD,GACC,KAAC,IAAD;AAAM,cAAA,KAAK,EAAEwD,MAAM,CAACsB,QAApB;AAAA;AAAA,cADD,GACkD,KAAC,IAAD;AAAM,cAAA,KAAK,EAAEtB,MAAM,CAACuB,SAApB;AAAA;AAAA,cAHrD;AAAA,YA5CF,EAiDE,MAAC,IAAD;AAAM,YAAA,KAAK,EAAE;AAAEL,cAAAA,aAAa,EAAE;AAAjB,aAAb;AAAA,uBAAuC,KAAC,IAAD;AAAM,cAAA,KAAK,EAAElB,MAAM,CAACmB,cAApB;AAAA;AAAA,cAAvC,EACE,KAAC,IAAD;AAAM,cAAA,KAAK,EAAEnB,MAAM,CAACgB,SAApB;AAAA,wBAAgCtF,OAAO,CAACgB;AAAxC,cADF,EAEIhB,OAAO,CAACgB,YAAR,IAAwB,MAAxB,IAAkCA,YAAY,IAAIhB,OAAO,CAACgB,YAA3D,GAA2E,KAAC,IAAD;AAAM,cAAA,KAAK,EAAEsD,MAAM,CAACsB,QAApB;AAAA;AAAA,cAA3E,GACC,KAAC,IAAD;AAAM,cAAA,KAAK,EAAEtB,MAAM,CAACuB,SAApB;AAAA;AAAA,cAHJ;AAAA,YAjDF,EAsDE,MAAC,IAAD;AAAM,YAAA,KAAK,EAAE;AAAEL,cAAAA,aAAa,EAAE;AAAjB,aAAb;AAAA,uBAAuC,KAAC,IAAD;AAAM,cAAA,KAAK,EAAElB,MAAM,CAACmB,cAApB;AAAA;AAAA,cAAvC,EACE,KAAC,IAAD;AAAM,cAAA,KAAK,EAAEnB,MAAM,CAACgB,SAApB;AAAA,wBAAgCtF,OAAO,CAACkB;AAAxC,cADF,EAEIlB,OAAO,CAACkB,cAAR,IAA0B,MAA1B,IAAoCA,cAAc,IAAIlB,OAAO,CAACkB,cAA/D,GAAiF,KAAC,IAAD;AAAM,cAAA,KAAK,EAAEoD,MAAM,CAACsB,QAApB;AAAA;AAAA,cAAjF,GACC,KAAC,IAAD;AAAM,cAAA,KAAK,EAAEtB,MAAM,CAACuB,SAApB;AAAA;AAAA,cAHJ;AAAA,YAtDF,EA2DE,MAAC,IAAD;AAAM,YAAA,KAAK,EAAE;AAAEL,cAAAA,aAAa,EAAE;AAAjB,aAAb;AAAA,uBAAuC,KAAC,IAAD;AAAM,cAAA,KAAK,EAAElB,MAAM,CAACmB,cAApB;AAAA;AAAA,cAAvC,EACE,KAAC,IAAD;AAAM,cAAA,KAAK,EAAEnB,MAAM,CAACgB,SAApB;AAAA,wBAAgCtF,OAAO,CAACoB;AAAxC,cADF;AAAA,YA3DF,EA8DE,MAAC,IAAD;AAAM,YAAA,KAAK,EAAE;AAAEoE,cAAAA,aAAa,EAAE;AAAjB,aAAb;AAAA,uBAAuC,KAAC,IAAD;AAAM,cAAA,KAAK,EAAElB,MAAM,CAACmB,cAApB;AAAA;AAAA,cAAvC,EACE,KAAC,IAAD;AAAM,cAAA,KAAK,EAAEnB,MAAM,CAACgB,SAApB;AAAA,wBAAgCtF,OAAO,CAACsB;AAAxC,cADF;AAAA,YA9DF,EAiEE,MAAC,IAAD;AAAM,YAAA,KAAK,EAAE;AAAEkE,cAAAA,aAAa,EAAE;AAAjB,aAAb;AAAA,uBAAuC,KAAC,IAAD;AAAM,cAAA,KAAK,EAAElB,MAAM,CAACmB,cAApB;AAAA;AAAA,cAAvC,EACE,KAAC,IAAD;AAAM,cAAA,KAAK,EAAEnB,MAAM,CAACgB,SAApB;AAAA,wBAAgCtF,OAAO,CAACwB;AAAxC,cADF,EAEIxB,OAAO,CAACwB,QAAR,IAAoB,MAApB,IAA8BA,QAAQ,IAAIxB,OAAO,CAACwB,QAAnD,GAA+D,KAAC,IAAD;AAAM,cAAA,KAAK,EAAE8C,MAAM,CAACsB,QAApB;AAAA;AAAA,cAA/D,GACC,KAAC,IAAD;AAAM,cAAA,KAAK,EAAEtB,MAAM,CAACuB,SAApB;AAAA;AAAA,cAHJ;AAAA,YAjEF,EAsEE,MAAC,IAAD;AAAM,YAAA,KAAK,EAAE;AAAEL,cAAAA,aAAa,EAAE;AAAjB,aAAb;AAAA,uBAAuC,KAAC,IAAD;AAAM,cAAA,KAAK,EAAElB,MAAM,CAACmB,cAApB;AAAA;AAAA,cAAvC,EACE,MAAC,IAAD;AAAM,cAAA,KAAK,EAAEnB,MAAM,CAACgB,SAApB;AAAA,yBAAgCtF,OAAO,CAAC4B,iBAAxC;AAAA,cADF,EAEI5B,OAAO,CAAC4B,iBAAR,IAA6B,MAA7B,IAAuCA,iBAAiB,IAAI5B,OAAO,CAAC4B,iBAArE,GAA0F,KAAC,IAAD;AAAM,cAAA,KAAK,EAAE0C,MAAM,CAACsB,QAApB;AAAA;AAAA,cAA1F,GACC,KAAC,IAAD;AAAM,cAAA,KAAK,EAAEtB,MAAM,CAACuB,SAApB;AAAA;AAAA,cAHJ;AAAA,YAtEF,EA2EE,MAAC,IAAD;AAAM,YAAA,KAAK,EAAE;AAAEL,cAAAA,aAAa,EAAE;AAAjB,aAAb;AAAA,uBAAuC,KAAC,IAAD;AAAM,cAAA,KAAK,EAAElB,MAAM,CAACmB,cAApB;AAAA;AAAA,cAAvC,EACE,KAAC,IAAD;AAAM,cAAA,KAAK,EAAEnB,MAAM,CAACgB,SAApB;AAAA,wBAAgCtF,OAAO,CAAC0B;AAAxC,cADF,EAEI1B,OAAO,CAAC0B,qBAAR,IAAiC,MAAjC,IAA2CA,qBAAqB,IAAI1B,OAAO,CAAC0B,qBAA7E,GAAsG,KAAC,IAAD;AAAM,cAAA,KAAK,EAAE4C,MAAM,CAACsB,QAApB;AAAA;AAAA,cAAtG,GACC,KAAC,IAAD;AAAM,cAAA,KAAK,EAAEtB,MAAM,CAACuB,SAApB;AAAA;AAAA,cAHJ;AAAA,YA3EF;AAAA,UAHF;AAAA,QAxBF,EAmHE,MAAC,IAAD;AAAM,QAAA,KAAK,EAAEvB,MAAM,CAACwB,eAApB;AAAA,mBACE,MAAC,IAAD;AAAM,UAAA,KAAK,EAAExB,MAAM,CAACyB,cAApB;AAAA,qBACI3F,cAAc,IAAI,EAAlB,IAAwBA,cAAc,IAAI6B,SAA3C,GACC,KAAC,MAAD;AACE,YAAA,IAAI,EAAE,EADR;AAEE,YAAA,OAAO,MAFT;AAGE,YAAA,MAAM,EAAE;AAAE4C,cAAAA,GAAG,EAAEzE;AAAP;AAHV,YADD,GAKM,KAAC,MAAD;AACH,YAAA,IAAI,EAAE,EADH;AAEH,YAAA,OAAO,MAFJ;AAGH,YAAA,KAAK,EAAEF,SAAS,GAAGA,SAAS,CAAC,CAAD,CAAZ,GAAkB,EAH/B;AAIH,YAAA,cAAc,EAAE;AAAEiE,cAAAA,eAAe,EAAE;AAAnB;AAJb,YANT,EAeE,MAAC,IAAD;AAAM,YAAA,KAAK,EAAEG,MAAM,CAAC0B,oBAApB;AAAA,uBACE,KAAC,IAAD;AAAM,cAAA,KAAK,EAAE;AAAEX,gBAAAA,UAAU,EAAE,MAAd;AAAsBF,gBAAAA,QAAQ,EAAE;AAAhC,eAAb;AAAA,wBAAoDjF;AAApD,cADF,EAEE,KAAC,IAAD;AAAM,cAAA,KAAK,EAAE;AAAEiF,gBAAAA,QAAQ,EAAE,EAAZ;AAAgBc,gBAAAA,KAAK,EAAE;AAAvB,eAAb;AAAA;AAAA,cAFF;AAAA,YAfF;AAAA,UADF,EAqBE,KAAC,MAAD;AAAQ,UAAA,WAAW,EAAE3B,MAAM,CAAC4B,aAA5B;AACE,UAAA,cAAc,EAAE5B,MAAM,CAAC6B,sBADzB;AAEE,UAAA,UAAU,EAAE;AAAEd,YAAAA,UAAU,EAAE,MAAd;AAAsBF,YAAAA,QAAQ,EAAE;AAAhC,WAFd;AAGE,UAAA,KAAK,EAAC,oBAHR;AAIE,UAAA,OAAO,EAAE,mBAAM;AACbrC,YAAAA,kBAAkB;AACnB;AANH,UArBF;AAAA,QAnHF;AAAA;AADF,IADF;AAuJD;AAED,IAAMwB,MAAM,GAAG8B,UAAU,CAACC,MAAX,CAAkB;AAC/B9B,EAAAA,SAAS,EAAE;AACT+B,IAAAA,IAAI,EAAE,CADG;AAETC,IAAAA,UAAU,EAAE,YAFH;AAGTC,IAAAA,cAAc,EAAE,YAHP;AAITrC,IAAAA,eAAe,EAAE,OAJR;AAKTE,IAAAA,MAAM,EAAE;AALC,GADoB;AAQ/BG,EAAAA,aAAa,EAAE;AACbY,IAAAA,SAAS,EAAE,EADE;AAEbqB,IAAAA,OAAO,EAAE,EAFI;AAGbC,IAAAA,SAAS,EAAE,YAHE;AAIbC,IAAAA,MAAM,EAAE,CAJK;AAKbC,IAAAA,QAAQ,EAAE;AALG,GARgB;AAe/BlC,EAAAA,cAAc,EAAE;AACdU,IAAAA,SAAS,EAAE,EADG;AAEdqB,IAAAA,OAAO,EAAE,EAFK;AAGdC,IAAAA,SAAS,EAAE,UAHG;AAIdC,IAAAA,MAAM,EAAE,CAJM;AAKdC,IAAAA,QAAQ,EAAE;AALI,GAfe;AAsB/BhC,EAAAA,SAAS,EAAE;AACT+B,IAAAA,MAAM,EAAE,CADC;AAETE,IAAAA,WAAW,EAAE,GAFJ;AAGTC,IAAAA,KAAK,EAAE;AAHE,GAtBoB;AA2B/BhC,EAAAA,gBAAgB,EAAE;AAChBgC,IAAAA,KAAK,EAAE,MADS;AAEhBzC,IAAAA,MAAM,EAAE,MAFQ;AAGhBoC,IAAAA,OAAO,EAAE,EAHO;AAKhBH,IAAAA,IAAI,EAAE,CALU;AAMhBS,IAAAA,YAAY,EAAE,EANE;AAOhB5C,IAAAA,eAAe,EAAE,OAPD;AAQhB6C,IAAAA,GAAG,EAAE,CAAC;AARU,GA3Ba;AAqC/BjC,EAAAA,OAAO,EAAE;AACPM,IAAAA,UAAU,EAAE,MADL;AAEPF,IAAAA,QAAQ,EAAE;AAFH,GArCsB;AAyC/BH,EAAAA,SAAS,EAAE;AACTG,IAAAA,QAAQ,EAAE,EADD;AACK8B,IAAAA,YAAY,EAAE,EADnB;AACuB5B,IAAAA,UAAU,EAAE,MADnC;AAC2CY,IAAAA,KAAK,EAAE;AADlD,GAzCoB;AA4C/BX,EAAAA,SAAS,EAAE;AACTH,IAAAA,QAAQ,EAAE,EADD;AACKc,IAAAA,KAAK,EAAE;AADZ,GA5CoB;AA+C/BL,EAAAA,QAAQ,EAAE;AACRT,IAAAA,QAAQ,EAAE,EADF;AACMc,IAAAA,KAAK,EAAE;AADb,GA/CqB;AAkD/BJ,EAAAA,SAAS,EAAE;AACTV,IAAAA,QAAQ,EAAE,EADD;AACKc,IAAAA,KAAK,EAAE;AADZ,GAlDoB;AAqD/BR,EAAAA,cAAc,EAAE;AACdN,IAAAA,QAAQ,EAAE,EADI;AACAc,IAAAA,KAAK,EAAE,SADP;AACkBZ,IAAAA,UAAU,EAAE;AAD9B,GArDe;AAwD/Ba,EAAAA,aAAa,EAAE;AACb/B,IAAAA,eAAe,EAAE,SADJ;AAEb4C,IAAAA,YAAY,EAAE,CAFD;AAGbG,IAAAA,iBAAiB,EAAE,EAHN;AAIbC,IAAAA,WAAW,EAAE;AAJA,GAxDgB;AA8D/BhB,EAAAA,sBAAsB,EAAE;AACtBiB,IAAAA,gBAAgB,EAAE;AADI,GA9DO;AAiE/BtB,EAAAA,eAAe,EAAE;AACfc,IAAAA,QAAQ,EAAE,UADK;AAEfpB,IAAAA,aAAa,EAAE,KAFA;AAGfgB,IAAAA,cAAc,EAAE,eAHD;AAIfD,IAAAA,UAAU,EAAE,QAJG;AAKfc,IAAAA,MAAM,EAAE,CALO;AAMfP,IAAAA,KAAK,EAAE,MANQ;AAOfzC,IAAAA,MAAM,EAAE;AAPO,GAjEc;AA0E/B0B,EAAAA,cAAc,EAAE;AACduB,IAAAA,UAAU,EAAE,EADE;AAEd9B,IAAAA,aAAa,EAAE,KAFD;AAGdgB,IAAAA,cAAc,EAAE;AAHF,GA1Ee;AA+E/BR,EAAAA,oBAAoB,EAAE;AACpBsB,IAAAA,UAAU,EAAE,EADQ;AAEpB9B,IAAAA,aAAa,EAAE,QAFK;AAGpBgB,IAAAA,cAAc,EAAE,QAHI;AAIpBD,IAAAA,UAAU,EAAE;AAJQ;AA/ES,CAAlB,CAAf","sourcesContent":["\nimport React, { useEffect, useState, useContext } from 'react';\nimport { StyleSheet, View, Image, Alert, ScrollView } from 'react-native';\nimport { Button, ButtonGroup, withTheme, Text, Input, Divider, Avatar } from 'react-native-elements';\nimport * as ImagePicker from 'expo-image-picker';\nimport * as FileSystem from 'expo-file-system';\nimport { FontAwesome } from '@expo/vector-icons';\nimport { storage, db, auth } from \"../firebase\";\nimport { ref as storage_ref, getDownloadURL, uploadBytes } from \"firebase/storage\";\nimport { collection, query, where, onSnapshot, updateDoc, addDoc, doc, setDoc, arrayUnion } from \"firebase/firestore\";\n\nimport { SettingStackProps, petPostDataProps } from '../types';\nimport Dropdown from '../components/dropdown'\n\nexport default function PostDetailScreen({ route, navigation }: { route: any, navigation: any }) {\n  const { petItem } = route.params;\n  const [ownerName, setOwnerName] = useState<string | undefined>('');\n  const [ownerImagepath, setOwnerImage] = useState(\"\");\n\n  const [addressDocUri, setAddressDocUri] = useState('');\n  const [incomeDocUri, setIncomeDocUri] = useState('');\n  const [totalIncome, setTotalIncome] = useState('');\n  const [apartmentType, setApartmentType] = useState('');\n  const [apartmentSize, setApartmentSize] = useState('');\n  const [hvExperience, setHvExperience] = useState('');\n  const [hvWindowScreen, setHvWindowScreen] = useState('');\n  const [numOfOtherPet, setNumOfOtherPet] = useState('');\n  const [otherPetDescription, setOtherPetDescription] = useState('');\n  const [hvSmoker, setHvSmoker] = useState('');\n  const [hvRespiratoryDiseases, setHvRespiratoryDiseases] = useState('');\n  const [hvAllergySymptoms, setHvAllergySymptoms] = useState('');\n\n  const getOwnerDetail = async () => {\n    if (!petItem.postcreator) return false;\n\n    const unsub = onSnapshot(doc(db, \"Users\", petItem.postcreator), (doc) => {\n      if (doc == undefined) return false;\n      if (!doc.data()) return false;\n      setOwnerName(doc.data()?.username)\n      setOwnerImage(doc.data()?.userIconUri)\n    });\n  }\n\n  const getCurrentUserDetail = async () => {\n    var userId = auth.currentUser?.uid;\n    if (userId) {\n      const unsub = onSnapshot(doc(db, \"Users\", userId), (doc) => {\n        if (doc == undefined) return false;\n        if (!doc.data()) return false;\n        setAddressDocUri(doc.data()?.addressDocUri);\n        setIncomeDocUri(doc.data()?.incomeDocUri);\n        setTotalIncome(doc.data()?.totalIncome);\n        setApartmentType(doc.data()?.apartmentType);\n        setApartmentSize(doc.data()?.apartmentSize);\n        setHvExperience(doc.data()?.hvExperience);\n        setHvWindowScreen(doc.data()?.hvWindowScreen);\n        setNumOfOtherPet(doc.data()?.numOfOtherPet);\n        setOtherPetDescription(doc.data()?.otherPetDescription);\n        setHvSmoker(doc.data()?.hvSmoker);\n        setHvAllergySymptoms(doc.data()?.hvAllergySymptoms);\n        setHvRespiratoryDiseases(doc.data()?.hvRespiratoryDiseases);\n      });\n    }\n\n  }\n\n  const checkFulfillRequirement = () => {\n    if (\n      !(petItem.hvAddressProve == 'true' && (addressDocUri == '' || addressDocUri == undefined)) &&\n      !(petItem.hvIncomeProve == 'true' && (incomeDocUri == '' || incomeDocUri == undefined)) &&\n      !(petItem.totalIncome && (totalIncome < petItem.totalIncome || totalIncome == undefined || totalIncome == '')) &&\n      !(petItem.apartmentType == 'non_public_housing' && apartmentType != petItem.apartmentType) &&\n      !(petItem.apartmentSize && (apartmentSize < petItem.apartmentSize || apartmentSize == undefined || apartmentSize == '')) &&\n      !(petItem.hvExperience == 'true' && hvExperience != petItem.hvExperience) &&\n      !((petItem.hvWindowScreen == 'true' && hvWindowScreen != petItem.hvWindowScreen)) &&\n      !(petItem.hvSmoker == 'true' && hvSmoker != petItem.hvSmoker) &&\n      !(petItem.hvAllergySymptoms == 'true' && hvAllergySymptoms != petItem.hvAllergySymptoms) &&\n      !(petItem.hvRespiratoryDiseases == 'true' && hvRespiratoryDiseases != petItem.hvRespiratoryDiseases)\n    ) {\n      console.log(\"checkFulfillRequirement: true\")\n      return true\n    }\n    else {\n      console.log(\"checkFulfillRequirement: false\")\n      return false\n    }\n  }\n\n  const sendContactRequest = async () => {\n    var userId = auth.currentUser?.uid;\n\n    if (petItem.postcreator == userId) {\n      Alert.alert(\n        \"Request Failed\", \"You cannot adopt your own pet\",\n        [\n          { text: \"OK\", onPress: () => console.log(\"OK Pressed\") }\n        ]\n      );\n      return false;\n    }\n    if (!checkFulfillRequirement()) {\n      console.log(\"!checkFulfillRequirement()\")\n      Alert.alert(\n        \"Request Failed\", \"Some requirements not fulfill, Please update User Profile\",\n        [\n          { text: \"OK\", onPress: () => console.log(\"OK Pressed\") }\n        ]\n      );\n      return false;\n    }\n\n    try {\n      if (!userId) {\n        console.error(\"userId not found:  \", auth.currentUser);\n        return false;\n      }\n\n      var postRef = doc(db, \"PetPost\", petItem.id);\n      var requestRef = doc(postRef, \"contactRequest\", userId);\n\n      const unsub = await setDoc(requestRef, {\n        status: 'New request',\n        requestTime: new Date(),\n      }, { merge: true });\n\n      console.log(\"Document written with ID: \", petItem.id);\n      Alert.alert(\n        \"Request Sent\", \"Please wait for pet owner to contact you through email\",\n        [\n          { text: \"OK\", onPress: () => console.log(\"OK Pressed\") }\n        ]\n      );\n    } catch (e) {\n      console.error(\"Error adding document:  \", e);\n    }\n\n  }\n\n  const addToFav = async () => {\n    var userId = auth.currentUser?.uid;\n    try {\n      if (userId) {\n        const UserRef = doc(db, 'Users', userId);\n        await updateDoc(UserRef, {\n          favorites: arrayUnion(petItem.id)\n        });\n        console.log(\"aaddToFav Done\");\n      } else {\n        console.error(\"userId not found:  \", auth.currentUser);\n      }\n    } catch (e) {\n      console.error(\"Error adding document:  \", e);\n    }\n  }\n\n  useEffect(() => {\n    getCurrentUserDetail();\n    getOwnerDetail();\n    navigation.getParent()?.setOptions({ tabBarStyle: { display: \"none\" } });\n    return () => navigation.getParent()?.setOptions(\n      { tabBarStyle: { borderTopWidth: 0, backgroundColor: 'white', elevation: 0, height: '8%' } });\n  }, [navigation]);\n\n  return (\n    <>\n      <View style={styles.container}>\n        <View style={styles.iconContainer}>\n          <FontAwesome\n            name=\"arrow-left\"\n            size={25}\n            color=\"white\"\n            onPress={() => { navigation.navigate('Home') }}\n          />\n        </View>\n        <View style={styles.iconContainer2}>\n          <FontAwesome\n            name=\"heart-o\"\n            size={25}\n            color=\"white\"\n            onPress={() => {\n              addToFav\n            }}\n          />\n        </View>\n\n\n        {petItem.imagepath != \"\" && <Image style={styles.imageitem}\n          source={{ uri: petItem.imagepath }}\n        />}\n        <View style={styles.contentContainer}>\n          <Text style={styles.petname}>{petItem.petname}</Text>\n          <Text style={styles.petgender}>{petItem.petgender}  -  {petItem.petstages} </Text>\n          <ScrollView showsVerticalScrollIndicator={false}\n            showsHorizontalScrollIndicator={false}\n            style={{ paddingBottom: 40 }}>\n\n            <Text style={{ fontSize: 16, marginTop: 12, fontWeight: 'bold', }}>Pet Story</Text>\n            <Text style={styles.paragraph}>{petItem.desc} </Text>\n            <View style={{ marginTop: 5 }}>\n              <View style={{ flexDirection: 'row' }}>\n                <Text style={styles.paragraphTitle}>Sterilisation: </Text>\n                <Text style={styles.paragraph}> {petItem.sterilisation}</Text>\n              </View>\n              <View style={{ flexDirection: 'row' }}>\n                <Text style={styles.paragraphTitle}>Vaccinated: </Text>\n                <Text style={styles.paragraph}> {petItem.vaccinated}</Text>\n              </View>\n            </View>\n\n            {/* Adoption Requirement */}\n            <Text style={{ fontSize: 14, marginTop: 12, fontWeight: 'bold' }}>Adoption Requirement</Text>\n            <View style={{ flexDirection: 'row' }}>\n              <Text style={styles.paragraphTitle}>Require Address Prove: </Text>\n              <Text style={styles.paragraph}> {petItem.hvAddressProve}</Text>\n              {(petItem.hvAddressProve == 'true' && (addressDocUri == '' || addressDocUri == undefined)) ?\n                <Text style={styles.required}> Required</Text> :\n                <Text style={styles.fulfilled}> Fulfilled</Text>}\n            </View>\n\n            <View style={{ flexDirection: 'row' }}><Text style={styles.paragraphTitle}>Require Income Prove: </Text>\n              <Text style={styles.paragraph}>{petItem.hvIncomeProve}</Text>\n              {(petItem.hvIncomeProve == 'true' && (incomeDocUri == '' || incomeDocUri == undefined)) ?\n                <Text style={styles.required}> Required</Text> :\n                <Text style={styles.fulfilled}> Fulfilled</Text>}\n            </View>\n            <View style={{ flexDirection: 'row' }}><Text style={styles.paragraphTitle}>Family Total Income: </Text>\n              <Text style={styles.paragraph}>{petItem.totalIncome}</Text>\n              {(petItem.totalIncome && (totalIncome < petItem.totalIncome || totalIncome == undefined || totalIncome == '')) ?\n                <Text style={styles.required}> Required</Text> :\n                <Text style={styles.fulfilled}> Fulfilled</Text>}\n            </View>\n            <View style={{ flexDirection: 'row' }}><Text style={styles.paragraphTitle}>Apartment Type: </Text>\n              <Text style={styles.paragraph}>{petItem.apartmentType}</Text>\n              {(petItem.apartmentType == 'non_public_housing' && apartmentType != petItem.apartmentType) ? <Text style={styles.required}> Required</Text> :\n                <Text style={styles.fulfilled}> Fulfilled</Text>}\n            </View>\n            <View style={{ flexDirection: 'row' }}><Text style={styles.paragraphTitle}>apartmentSize: </Text>\n              <Text style={styles.paragraph}>{petItem.apartmentSize}</Text>\n              {(petItem.apartmentSize && (apartmentSize < petItem.apartmentSize || apartmentSize == undefined || apartmentSize == '')) ?\n                <Text style={styles.required}> Required</Text> : <Text style={styles.fulfilled}> Fulfilled</Text>}\n            </View>\n            <View style={{ flexDirection: 'row' }}><Text style={styles.paragraphTitle}>hvExperience: </Text>\n              <Text style={styles.paragraph}>{petItem.hvExperience}</Text>\n              {(petItem.hvExperience == 'true' && hvExperience != petItem.hvExperience) ? <Text style={styles.required}> Required</Text> :\n                <Text style={styles.fulfilled}> Fulfilled</Text>}\n            </View>\n            <View style={{ flexDirection: 'row' }}><Text style={styles.paragraphTitle}>hvWindowScreen: </Text>\n              <Text style={styles.paragraph}>{petItem.hvWindowScreen}</Text>\n              {(petItem.hvWindowScreen == 'true' && hvWindowScreen != petItem.hvWindowScreen) ? <Text style={styles.required}> Required</Text> :\n                <Text style={styles.fulfilled}> Fulfilled</Text>}\n            </View>\n            <View style={{ flexDirection: 'row' }}><Text style={styles.paragraphTitle}>numOfOtherPet: </Text>\n              <Text style={styles.paragraph}>{petItem.numOfOtherPet}</Text>\n            </View>\n            <View style={{ flexDirection: 'row' }}><Text style={styles.paragraphTitle}>otherPetDescription: </Text>\n              <Text style={styles.paragraph}>{petItem.otherPetDescription}</Text>\n            </View>\n            <View style={{ flexDirection: 'row' }}><Text style={styles.paragraphTitle}>hvSmoker: </Text>\n              <Text style={styles.paragraph}>{petItem.hvSmoker}</Text>\n              {(petItem.hvSmoker == 'true' && hvSmoker != petItem.hvSmoker) ? <Text style={styles.required}> Required</Text> :\n                <Text style={styles.fulfilled}> Fulfilled</Text>}\n            </View>\n            <View style={{ flexDirection: 'row' }}><Text style={styles.paragraphTitle}>hvAllergySymptoms: </Text>\n              <Text style={styles.paragraph}>{petItem.hvAllergySymptoms} </Text>\n              {(petItem.hvAllergySymptoms == 'true' && hvAllergySymptoms != petItem.hvAllergySymptoms) ? <Text style={styles.required}> Required</Text> :\n                <Text style={styles.fulfilled}> Fulfilled</Text>}\n            </View>\n            <View style={{ flexDirection: 'row' }}><Text style={styles.paragraphTitle}>hvRespiratoryDiseases: </Text>\n              <Text style={styles.paragraph}>{petItem.hvRespiratoryDiseases}</Text>\n              {(petItem.hvRespiratoryDiseases == 'true' && hvRespiratoryDiseases != petItem.hvRespiratoryDiseases) ? <Text style={styles.required}> Required</Text> :\n                <Text style={styles.fulfilled}> Fulfilled</Text>}\n\n            </View>\n          </ScrollView>\n\n\n\n\n        </View>\n\n        <View style={styles.footerContainer}>\n          <View style={styles.ownerContainer}>\n            {(ownerImagepath != \"\" && ownerImagepath != undefined) ?\n              <Avatar\n                size={50}\n                rounded\n                source={{ uri: ownerImagepath }}\n              /> : <Avatar\n                size={50}\n                rounded\n                title={ownerName ? ownerName[0] : \"\"}\n                containerStyle={{ backgroundColor: '#aaaaaa' }}\n\n              />\n\n            }\n            <View style={styles.ownerDetailContainer}>\n              <Text style={{ fontWeight: 'bold', fontSize: 12 }}>{ownerName}</Text>\n              <Text style={{ fontSize: 12, color: '#aaaaaa' }}>owner</Text>\n            </View>\n          </View>\n          <Button buttonStyle={styles.contactbutton}\n            containerStyle={styles.contactbuttonContainer}\n            titleStyle={{ fontWeight: 'bold', fontSize: 11 }}\n            title=\"Send Adopt Request\"\n            onPress={() => {\n              sendContactRequest()\n            }}\n          >\n          </Button>\n        </View>\n      </View >\n    </>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    alignItems: 'flex-start',\n    justifyContent: 'flex-start',\n    backgroundColor: 'white',\n    height: \"100%\"\n  },\n  iconContainer: {\n    marginTop: 40,\n    padding: 20,\n    alignSelf: 'flex-start',\n    zIndex: 1,\n    position: 'absolute'\n  },\n  iconContainer2: {\n    marginTop: 40,\n    padding: 20,\n    alignSelf: 'flex-end',\n    zIndex: 1,\n    position: 'absolute'\n  },\n  imageitem: {\n    zIndex: 0,\n    aspectRatio: 1.1,\n    width: '100%',\n  },\n  contentContainer: {\n    width: '100%',\n    height: '100%',\n    padding: 30,\n\n    flex: 1,\n    borderRadius: 25,\n    backgroundColor: 'white',\n    top: -30\n  },\n  petname: {\n    fontWeight: 'bold',\n    fontSize: 30\n  },\n  petgender: {\n    fontSize: 12, marginBottom: 12, fontWeight: 'bold', color: '#888888'\n  },\n  paragraph: {\n    fontSize: 12, color: '#999999'\n  },\n  required: {\n    fontSize: 12, color: 'red'\n  },\n  fulfilled: {\n    fontSize: 12, color: 'green'\n  },\n  paragraphTitle: {\n    fontSize: 12, color: '#999999', fontWeight: 'bold'\n  },\n  contactbutton: {\n    backgroundColor: '#0b9298',\n    borderRadius: 5,\n    paddingHorizontal: 15,\n    marginRight: 30\n  },\n  contactbuttonContainer: {\n    marginHorizontal: 30\n  },\n  footerContainer: {\n    position: 'absolute',\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    bottom: 0,\n    width: '100%',\n    height: '10%',\n  },\n  ownerContainer: {\n    marginLeft: 30,\n    flexDirection: 'row',\n    justifyContent: 'flex-start',\n  },\n  ownerDetailContainer: {\n    marginLeft: 10,\n    flexDirection: 'column',\n    justifyContent: 'center',\n    alignItems: 'flex-start'\n  },\n\n\n});\n\n\n\n"]},"metadata":{},"sourceType":"module"}